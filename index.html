<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>القرآن الكريم - جميع السور</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

    <style>
        /* التصميم العام */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Amiri', serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            direction: rtl;
            text-align: right;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1.page-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .search-container {
            margin-bottom: 20px;
            text-align: center;
        }

        .search-input {
            width: 100%;
            max-width: 400px;
            padding: 10px;
            font-size: 1rem;
            border: 1px solid #ccc;
            border-radius: 5px;
            direction: rtl;
        }

        .surah-list {
            margin-top: 20px;
        }

        .surah-item {
            margin-bottom: 15px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 10px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .surah-item:hover {
            background-color: #e9e9e9;
        }

        .surah-name {
            font-size: 1.5rem;
            color: #16a085;
            margin-bottom: 10px;
            white-space: normal;
            overflow: visible;
        }

        .verses-container {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #fff;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .verse {
            margin-bottom: 10px;
            font-size: 1.2rem;
            color: #333;
            white-space: normal;
            overflow: visible;
        }

        .verse-number {
            color: #16a085;
            font-weight: bold;
            margin-left: 5px;
        }

        /* التصميم المتجاوب */
        @media (max-width: 768px) {
            h1.page-title {
                font-size: 2rem;
            }

            .surah-name {
                font-size: 1.2rem; /* حجم أصغر للهواتف */
            }

            .verse {
                font-size: 1rem; /* حجم أصغر للهواتف */
            }
        }
    </style>
</head>
<body>

    <!-- زر التحكم -->
    <button class="toggle-btn" id="toggleButton">☰</button>

    <!-- القائمة الجانبية -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="images/logo.png" alt="شعار الموقع" class="sidebar-logo">
            <h2>القائمة</h2>
        </div>
        <nav>
            <ul>
                <li><a href="index.html"><img src="images/home-icon.png" alt="الصفحة الرئيسية" class="menu-icon">الرئيسية</a></li>
                <li><a href="videos.html"><img src="images/videos-icon.png" alt="فيديوهات دينية" class="menu-icon">فيديوهات دينية</a></li>
                <li><a href="hadif.html"><img src="images/hadif.png" alt="الأحاديث النبوية" class="menu-icon">الأحاديث الدينية</a></li>
                <li><a href="prayer-times.html"><img src="images/sallla.png" alt="مواعيد الصلاة" class="menu-icon">مواعيد الصلاة</a></li>
                <li><a href="sirah.html"><img src="images/SIRA-icon.png" alt="السيرة النبوية" class="menu-icon">السيرة النبوية</a></li>
                <li><a href="pajeqoran.html"><img src="images/qoran.png" alt="قصص الأنبياء" class="menu-icon">القرآن  الكريم</a></li>
                <li><a href="9ssasanbya.html"><img src="images/9isas-icon.png" alt="قصص الأنبياء" class="menu-icon">قصص الأنبياء</a></li>
                <li><a href="mawadi3.html"><img src="images/mwadi3.png" alt="مواضيع دينية اخرى" class="menu-icon">مواضيع دينية اخرى</a></li>
                <li><a href="ad3ya.html"><img src="images/ad3ya.png" alt="قصص الأنبياء" class="menu-icon">الادعية</a></li>
                <li><a href="about.html"><img src="images/about-icon.png" alt="حول" class="menu-icon">حول</a></li>
                <li><a href="privacy-policy.html"><img src="images/pravite.png" alt="سياسة الخصوصية "class="menu-icon">سياسة الخصوصية</a></li>
            </ul>
        </nav>
    </div>

    <div class="container">
        <!-- عنوان الصفحة -->
        <h1 class="page-title">القرآن الكريم - جميع السور</h1>

        <!-- حقل البحث -->
        <div class="search-container">
            <input type="text" id="searchInput" class="search-input" placeholder="ابحث عن سورة..." oninput="filterSurahs()">
        </div>

        <!-- قائمة السور -->
        <div class="surah-list" id="surah-list">
            <!-- سيتم عرض قائمة السور هنا -->
        </div>
    </div>

    <script>
        let allSurahs = []; // لتخزين جميع السور

        // دالة لجلب جميع السور من API
        async function fetchAllSurahs() {
            try {
                const response = await fetch('https://api.alquran.cloud/v1/surah');
                const data = await response.json();

                if (data.code === 200) {
                    allSurahs = data.data; // تخزين جميع السور
                    displaySurahs(allSurahs);
                } else {
                    console.error("حدث خطأ أثناء جلب البيانات");
                }
            } catch (error) {
                console.error("حدث خطأ في الاتصال بالخادم:", error);
            }
        }

        // دالة لعرض قائمة السور
        function displaySurahs(surahs) {
            const surahListElement = document.getElementById('surah-list');
            surahListElement.innerHTML = ''; // مسح المحتوى القديم

            surahs.forEach(surah => {
                const surahItem = document.createElement('div');
                surahItem.classList.add('surah-item');

                surahItem.innerHTML = `
                    <div class="surah-name">${surah.name} (${surah.englishName})</div>
                    <div class="verses-container" id="verses-${surah.number}"></div>
                `;

                // إضافة حدث النقر لعرض أو إخفاء الآيات
                const surahNameElement = surahItem.querySelector('.surah-name');
                surahNameElement.addEventListener('click', () => {
                    toggleVerses(surah.number);
                });

                surahListElement.appendChild(surahItem);
            });
        }

        // دالة لجلب آيات سورة معينة
        async function fetchSurah(surahNumber) {
            try {
                const response = await fetch(`https://api.alquran.cloud/v1/surah/${surahNumber}`);
                const data = await response.json();

                if (data.code === 200) {
                    const surah = data.data;
                    displayVerses(surah);
                } else {
                    console.error("حدث خطأ أثناء جلب البيانات");
                }
            } catch (error) {
                console.error("حدث خطأ في الاتصال بالخادم:", error);
            }
        }

        // دالة لعرض آيات السورة
        function displayVerses(surah) {
            const versesContainer = document.getElementById(`verses-${surah.number}`);

            // مسح المحتوى القديم
            versesContainer.innerHTML = '';

            // عرض الآيات
            surah.ayahs.forEach(ayah => {
                const verseElement = document.createElement('p');
                verseElement.classList.add('verse');
                verseElement.innerHTML = `
                    <span class="verse-text">${ayah.text}</span>
                    <span class="verse-number">(${ayah.numberInSurah})</span>
                `;
                versesContainer.appendChild(verseElement);
            });

            // إظهار قسم الآيات
            versesContainer.style.display = 'block';
        }

        // دالة لإظهار أو إخفاء الآيات
        function toggleVerses(surahNumber) {
            const versesContainer = document.getElementById(`verses-${surahNumber}`);

            if (versesContainer.style.display === 'none' || versesContainer.style.display === '') {
                fetchSurah(surahNumber); // جلب الآيات إذا لم تكن معروضة
            } else {
                versesContainer.style.display = 'none'; // إخفاء الآيات
            }
        }

        // دالة لتصفية السور بناءً على البحث
        function filterSurahs() {
            const searchText = removeTashkeel(document.getElementById('searchInput').value.toLowerCase());
            const filteredSurahs = allSurahs.filter(surah => {
                const surahName = removeTashkeel(surah.name.toLowerCase());
                const surahEnglishName = removeTashkeel(surah.englishName.toLowerCase());
                return (
                    surahName.includes(searchText) ||
                    surahEnglishName.includes(searchText)
                );
            });
            displaySurahs(filteredSurahs);
        }

        // دالة لإزالة التشكيل من النص
        function removeTashkeel(text) {
            return text.replace(/[\u064B-\u065F\u0610-\u061A]/g, '');
        }

        // جلب جميع السور عند تحميل الصفحة
        fetchAllSurahs();
    </script>

    <script src="script.js"></script>
</body>
</html>
